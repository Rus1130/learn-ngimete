<head>

</head>
<body>
    <div id="out" style="font-family: monospace"></div>
    <button id="both" style="padding: 10px;">copy both</button>
    <button id="ortho" style="padding: 10px;">copy ortho</button>
    <button id="ipa" style="padding: 10px;">copy IPA</button>
</body>
<script type="module">
    import { Writer } from './lib.js';

    const bothButton = document.getElementById("both");
    const orthoButton = document.getElementById("ortho");
    const ipaButton = document.getElementById("ipa");

    // get query strings
    let urlParams = new URLSearchParams(window.location.search);
    // get the param called "s"
    let type = urlParams.get('t');
    let s = urlParams.get('s');

    document.getElementById("out").innerText = new Writer(s).both();

    bothButton.addEventListener("click", function(){
        navigator.clipboard.writeText(new Writer(s).both());
        bothButton.innerText = "copied!";
        setTimeout(() => {
            bothButton.innerText = "copy both";
        }, 2000);
    });

    orthoButton.addEventListener("click", function(){
        navigator.clipboard.writeText(new Writer(s).ortho());
        orthoButton.innerText = "copied!";
        setTimeout(() => {
            orthoButton.innerText = "copy ortho";
        }, 2000);
    });

    ipaButton.addEventListener("click", function(){
        navigator.clipboard.writeText(new Writer(s).ipa());
        ipaButton.innerText = "copied!";
        setTimeout(() => {
            ipaButton.innerText = "copy IPA";
        }, 2000);
    });
</script>